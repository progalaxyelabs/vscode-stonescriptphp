{
  "StoneScriptPHP Model": {
    "prefix": "stone-model",
    "description": "Create a StoneScriptPHP model class",
    "body": [
      "<?php",
      "",
      "namespace App\\Models;",
      "",
      "/**",
      " * ${1:ModelName} Model",
      " *",
      " * ${2:Model description}",
      " */",
      "class ${1:ModelName}",
      "{",
      "    /**",
      "     * ${3:Method description}",
      "     *",
      "     * @param ${4:string} $$${5:param1} ${6:Parameter description}",
      "     * @return array ${7:Return description}",
      "     */",
      "    public static function ${8:methodName}(${4:string} $$${5:param1}): array",
      "    {",
      "        global \\$db;",
      "",
      "        \\$stmt = \\$db->prepare('SELECT * FROM ${9:function_name}(\\$1)');",
      "        \\$stmt->execute([$$${5:param1}]);",
      "",
      "        return \\$stmt->fetch(\\PDO::FETCH_ASSOC) ?: [];",
      "    }",
      "}",
      ""
    ]
  },
  "StoneScriptPHP Model Method": {
    "prefix": "stone-model-method",
    "description": "Add a method to a StoneScriptPHP model",
    "body": [
      "/**",
      " * ${1:Method description}",
      " *",
      " * @param ${2:string} $$${3:param1} ${4:Parameter description}",
      " * @return ${5:array|null} ${6:Return description}",
      " */",
      "public static function ${7:methodName}(${2:string} $$${3:param1}): ${8:?array}",
      "{",
      "    global \\$db;",
      "",
      "    \\$stmt = \\$db->prepare('SELECT * FROM ${9:function_name}(\\$1)');",
      "    \\$stmt->execute([$$${3:param1}]);",
      "",
      "    \\$result = \\$stmt->fetch(\\PDO::FETCH_ASSOC);",
      "    return \\$result ?: ${10:null};",
      "}",
      ""
    ]
  },
  "StoneScriptPHP Model Create Method": {
    "prefix": "stone-model-create",
    "description": "Create a 'create' method for a model",
    "body": [
      "/**",
      " * Create a new ${1:entity}",
      " *",
      " * @param ${2:string} $$${3:field1} ${4:Field description}",
      " * @param ${5:string} $$${6:field2} ${7:Field description}",
      " * @return array Created ${1:entity} data",
      " */",
      "public static function create(${2:string} $$${3:field1}, ${5:string} $$${6:field2}): array",
      "{",
      "    global \\$db;",
      "",
      "    \\$stmt = \\$db->prepare('SELECT * FROM create_${8:table_name}(\\$1, \\$2)');",
      "    \\$stmt->execute([$$${3:field1}, $$${6:field2}]);",
      "",
      "    return \\$stmt->fetch(\\PDO::FETCH_ASSOC) ?: [];",
      "}",
      ""
    ]
  },
  "StoneScriptPHP Model Get Method": {
    "prefix": "stone-model-get",
    "description": "Create a 'get' method for a model",
    "body": [
      "/**",
      " * Get ${1:entity} by ID",
      " *",
      " * @param int $$${2:id} ${3:ID description}",
      " * @return array|null ${1:Entity} data or null if not found",
      " */",
      "public static function get(int $$${2:id}): ?array",
      "{",
      "    global \\$db;",
      "",
      "    \\$stmt = \\$db->prepare('SELECT * FROM get_${4:table_name}(\\$1)');",
      "    \\$stmt->execute([$$${2:id}]);",
      "",
      "    \\$result = \\$stmt->fetch(\\PDO::FETCH_ASSOC);",
      "    return \\$result ?: null;",
      "}",
      ""
    ]
  },
  "StoneScriptPHP Model Update Method": {
    "prefix": "stone-model-update",
    "description": "Create an 'update' method for a model",
    "body": [
      "/**",
      " * Update ${1:entity}",
      " *",
      " * @param int $$${2:id} ${3:ID description}",
      " * @param ${4:string} $$${5:field} ${6:Field description}",
      " * @return array Updated ${1:entity} data",
      " */",
      "public static function update(int $$${2:id}, ${4:string} $$${5:field}): array",
      "{",
      "    global \\$db;",
      "",
      "    \\$stmt = \\$db->prepare('SELECT * FROM update_${7:table_name}(\\$1, \\$2)');",
      "    \\$stmt->execute([$$${2:id}, $$${5:field}]);",
      "",
      "    return \\$stmt->fetch(\\PDO::FETCH_ASSOC) ?: [];",
      "}",
      ""
    ]
  },
  "StoneScriptPHP Model Delete Method": {
    "prefix": "stone-model-delete",
    "description": "Create a 'delete' method for a model",
    "body": [
      "/**",
      " * Delete ${1:entity}",
      " *",
      " * @param int $$${2:id} ${3:ID description}",
      " * @return bool True if deleted successfully",
      " */",
      "public static function delete(int $$${2:id}): bool",
      "{",
      "    global \\$db;",
      "",
      "    \\$stmt = \\$db->prepare('SELECT * FROM delete_${4:table_name}(\\$1)');",
      "    \\$stmt->execute([$$${2:id}]);",
      "",
      "    \\$result = \\$stmt->fetch(\\PDO::FETCH_ASSOC);",
      "    return \\$result && \\$result['success'] === true;",
      "}",
      ""
    ]
  }
}
